"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.default = createRPC;
exports.wsRPC = exports.httpRPC = void 0;

var _rpcHttpBrowser = _interopRequireDefault(require("@mainframe/rpc-http-browser"));

var _rpcWsBrowser = _interopRequireDefault(require("@mainframe/rpc-ws-browser"));

var HTTP_RE = /^https?:\/\//i;
var WS_RE = /^wss?:\/\//i;
var httpRPC = _rpcHttpBrowser.default;
exports.httpRPC = httpRPC;
var wsRPC = _rpcWsBrowser.default;
exports.wsRPC = wsRPC;

function createRPC(endpoint) {
  if (HTTP_RE.test(endpoint)) {
    return (0, _rpcHttpBrowser.default)(endpoint);
  }

  if (WS_RE.test(endpoint)) {
    return (0, _rpcWsBrowser.default)(endpoint);
  }

  throw new Error('Invalid endpoint provided: expecting HTTP or WebSocket URL');
}