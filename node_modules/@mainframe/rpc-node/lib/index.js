"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.default = createRPC;
exports.wsRPC = exports.ipcRPC = exports.httpRPC = void 0;

var _rpcHttpNode = _interopRequireDefault(require("@mainframe/rpc-http-node"));

var _rpcIpc = _interopRequireDefault(require("@mainframe/rpc-ipc"));

var _rpcWsNode = _interopRequireDefault(require("@mainframe/rpc-ws-node"));

const HTTP_RE = /^https?:\/\//i;
const WS_RE = /^wss?:\/\//i;
const httpRPC = _rpcHttpNode.default;
exports.httpRPC = httpRPC;
const ipcRPC = _rpcIpc.default;
exports.ipcRPC = ipcRPC;
const wsRPC = _rpcWsNode.default;
exports.wsRPC = wsRPC;

function createRPC(endpoint) {
  if (HTTP_RE.test(endpoint)) {
    return (0, _rpcHttpNode.default)(endpoint);
  }

  if (WS_RE.test(endpoint)) {
    return (0, _rpcWsNode.default)(endpoint);
  }

  return (0, _rpcIpc.default)(endpoint);
}